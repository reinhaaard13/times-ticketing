(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3118)}])},3118:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(7568),i=n(4051),s=n.n(i),a=n(5893),o=n(7294),c=n(9008),l=n.n(c),u=n(8790),d=n(4548),p=n(2417),f=n(6662),x=n(4865),h=n.n(x),g=n(9669),j=n.n(g),m=n(8100),v=n(9352),b=n(1895),w=n(2742),k=n(4107),C=function(e){var t=e.title,n=e.amount,r=e.icon,i=e.accentColor,s=(0,o.useRef)();return(0,a.jsx)(w.E.div,{ref:s,children:(0,a.jsxs)(u.xu,{borderWidth:"1px",borderRadius:"lg",shadow:"lg",className:"bg-white/90 cursor-pointer",backdropFilter:"auto",backdropBlur:"base",p:3,drag:!0,dragConstraints:s,dragElastic:.1,whileTap:{scale:1.05},as:w.E.div,children:[(0,a.jsxs)(u.kC,{justifyContent:"space-between",children:[(0,a.jsx)(u.xv,{textTransform:"uppercase",fontSize:"xs",fontWeight:"semibold",color:"gray.500",letterSpacing:"wide",children:t}),(0,a.jsx)(u.xu,{p:2,rounded:"lg",bg:i,textColor:"white",children:r})]}),void 0!==n?(0,a.jsx)(u.xv,{textTransform:"uppercase",fontSize:"2xl",fontWeight:"semibold",letterSpacing:"wide",children:n}):(0,a.jsx)(k.Od,{height:8,width:20})]})})},T=function(){var e,t,n,i,o=(0,d.Q)(),c=o.page,l=o.sortBy,p=o.sortOrder,f=o.filter,x=(0,b.a)().token,g=(0,m.ZP)(["/api/tickets",c,l,p,f],function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h().start(),e.next=3,j().get("".concat(t),{params:{page:c,sortBy:l,sortOrder:p,filter:f},headers:{Authorization:"Bearer ".concat(x)}});case 3:return n=e.sent,h().done(),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).data;return(0,a.jsxs)(u.rj,{gap:2,templateColumns:["repeat(1, 1fr)","repeat(2, 1fr)","repeat(4, 1fr)"],marginTop:2,children:[(0,a.jsx)(C,{accentColor:"teal",title:"Tickets In Progress",amount:null===g||void 0===g||null===(e=g.stats)||void 0===e?void 0:e.progress,icon:(0,a.jsx)(v.KDf,{})}),(0,a.jsx)(C,{accentColor:"orange.500",title:"Tickets Open",amount:null===g||void 0===g||null===(t=g.stats)||void 0===t?void 0:t.open,icon:(0,a.jsx)(v.KDf,{})}),(0,a.jsx)(C,{accentColor:"green.500",title:"Total Tickets",amount:null===g||void 0===g||null===(n=g.stats)||void 0===n?void 0:n.total,icon:(0,a.jsx)(v.KDf,{})}),(0,a.jsx)(C,{accentColor:"red.500",title:"Tickets Closed",amount:null===g||void 0===g||null===(i=g.stats)||void 0===i?void 0:i.closed,icon:(0,a.jsx)(v.KDf,{})})]})},_=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"TIMES Dashboard"})}),(0,a.jsx)(f.Z,{children:(0,a.jsxs)(u.xu,{className:"container",p:2,children:[(0,a.jsx)(u.X6,{size:"lg",className:"text-lime-500",fontWeight:"semibold",letterSpacing:"tight",children:"Dashboard"}),(0,a.jsxs)(d.Z,{initialPage:e.page,children:[(0,a.jsx)(T,{}),(0,a.jsx)(u.kC,{marginTop:4,marginBottom:4,alignItems:"center",justifyContent:"space-between",children:(0,a.jsx)(u.X6,{size:"md",className:"text-lime-500",fontWeight:"semibold",children:"Ticket List"})}),(0,a.jsx)(p.Z,{})]})]})})]})},E=_;_.getInitialProps=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{page:+t.query.page});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e){e.O(0,[228,445,617,556,885,874,937,90,781,518,658,533,439,662,417,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);