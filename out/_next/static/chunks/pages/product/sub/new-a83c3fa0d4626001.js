(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[681],{1391:function(e,r,t){"use strict";t.d(r,{Ph:function(){return b}});var n=t(9762),c=t(2846),u=t(4244),a=t(5031),o=t(8554),i=t.n(o),s=t(7294);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}function d(e,r){if(null==e)return{};var t,n,c={},u=Object.keys(e);for(n=0;n<u.length;n++)t=u[n],r.indexOf(t)>=0||(c[t]=e[t]);return c}var p=["children","placeholder","className"],h=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],m=["children"],f=(0,c.Gp)((function(e,r){var t=e.children,n=e.placeholder,u=e.className,o=d(e,p);return s.createElement(c.m$.select,l({},o,{ref:r,className:(0,a.cx)("chakra-select",u)}),n&&s.createElement("option",{value:""},n),t)}));a.Ts&&(f.displayName="SelectField");var b=(0,c.Gp)((function(e,r){var t=(0,c.jC)("Select",e),o=(0,c.Lr)(e),p=o.rootProps,m=o.placeholder,b=o.icon,x=o.color,_=o.height,g=o.h,w=o.minH,j=o.minHeight,y=o.iconColor,N=o.iconSize,S=d(o,h),C=(0,a.Vl)(S,u.oE),E=C[0],k=C[1],P=(0,n.Yp)(k),O={width:"100%",height:"fit-content",position:"relative",color:x},T=i()({paddingEnd:"2rem"},t.field,{_focus:{zIndex:"unset"}});return s.createElement(c.m$.div,l({className:"chakra-select__wrapper",__css:O},E,p),s.createElement(f,l({ref:r,height:null!=g?g:_,minH:null!=w?w:j,placeholder:m},P,{__css:T}),e.children),s.createElement(v,l({"data-disabled":(0,a.PB)(P.disabled)},(y||x)&&{color:y||x},{__css:t.icon},N&&{fontSize:N}),b))}));a.Ts&&(b.displayName="Select");var x=function(e){return s.createElement("svg",l({viewBox:"0 0 24 24"},e),s.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},_=(0,c.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),v=function(e){var r=e.children,t=void 0===r?s.createElement(x,null):r,n=d(e,m),c=s.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return s.createElement(_,l({},n,{className:"chakra-select__icon-wrapper"}),s.isValidElement(t)?c:null)};a.Ts&&(v.displayName="SelectIcon")},3441:function(e,r,t){"use strict";t.d(r,{g:function(){return l}});var n=t(9762),c=t(2846),u=t(5031),a=t(7294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}var i=["className","rows"],s=["h","minH","height","minHeight"],l=(0,c.Gp)((function(e,r){var t=(0,c.mq)("Textarea",e),l=(0,c.Lr)(e),d=l.className,p=l.rows,h=function(e,r){if(null==e)return{};var t,n,c={},u=Object.keys(e);for(n=0;n<u.length;n++)t=u[n],r.indexOf(t)>=0||(c[t]=e[t]);return c}(l,i),m=(0,n.Yp)(h),f=p?(0,u.CE)(t,s):t;return a.createElement(c.m$.textarea,o({ref:r,rows:p},m,{className:(0,u.cx)("chakra-textarea",d),__css:f}))}));u.Ts&&(l.displayName="Textarea")},2303:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/sub/new",function(){return t(5090)}])},5090:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return N}});var n=t(5893),c=t(7294),u=t(9008),a=t.n(u),o=t(9669),i=t.n(o),s=t(9237),l=t(7568),d=t(4051),p=t.n(d),h=t(2175),m=t(1163),f=t(3040),b=t(8790),x=t(9762),_=t(1391),v=t(4612),g=t(3441),w=t(5193),j=function(e){var r={};return e.product_id||(r.product_id="Required"),e.subproduct_name||(r.subproduct_name="Required"),e.subproduct_desc||(r.subproduct_desc="Required"),r},y=function(e){var r=(0,m.useRouter)(),t=(0,c.useState)([]),u=t[0],a=t[1];(0,c.useEffect)((function(){function e(){return e=(0,l.Z)(p().mark((function e(){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.getAllProducts();case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=(0,h.TA)({initialValues:{product_id:"",subproduct_name:"",subproduct_desc:""},validate:j,onSubmit:function(){var e=(0,l.Z)(p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setSubmitting(!0),e.next=3,i().post("/api/subproducts",t);case 3:201===e.sent.status&&(o.resetForm(),r.push("/product")),o.setSubmitting(!1);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()});return(0,n.jsx)(b.xu,{w:"full",maxW:"md",p:"4",bg:"white",rounded:"2xl",shadow:"lg",children:(0,n.jsxs)("form",{className:"w-full flex flex-col justify-center items-center",onSubmit:o.handleSubmit,children:[(0,n.jsxs)(x.NI,{maxWidth:"md",marginBottom:4,isInvalid:o.errors.product_id&&o.touched.product_id,children:[(0,n.jsx)(x.lX,{htmlFor:"product_id",children:"Choose Product"}),(0,n.jsx)(_.Ph,{name:"product_id",id:"product_id",placeholder:"Select Product",value:o.values.product_id,onChange:o.handleChange,onBlur:o.handleBlur,children:u.map((function(e){return(0,n.jsx)("option",{value:e.product_id,children:e.product_name},e.product_id)}))}),(0,n.jsx)(x.J1,{children:o.errors.product_id})]}),(0,n.jsxs)(x.NI,{maxWidth:"md",marginBottom:4,isInvalid:o.errors.subproduct_name&&o.touched.subproduct_name,children:[(0,n.jsx)(x.lX,{htmlFor:"subproduct_name",children:"Subproduct Name"}),(0,n.jsx)(v.II,{id:"subproduct_name",name:"subproduct_name",placeholder:"Subproduct Name",value:o.values.subproduct_name,onChange:o.handleChange,onBlur:o.handleBlur}),(0,n.jsx)(x.J1,{children:o.errors.subproduct_name})]}),(0,n.jsxs)(x.NI,{maxWidth:"md",isInvalid:o.errors.subproduct_desc&&o.touched.subproduct_desc,children:[(0,n.jsx)(x.lX,{htmlFor:"subproduct_desc",children:"Subproduct Description"}),(0,n.jsx)(g.g,{id:"subproduct_desc",name:"subproduct_desc",placeholder:"Subproduct Description",value:o.values.subproduct_desc,onChange:o.handleChange,onBlur:o.handleBlur}),(0,n.jsx)(x.J1,{children:o.errors.subproduct_desc})]}),(0,n.jsx)(w.zx,{type:"submit",isLoading:o.isSubmitting,loadingText:"Creating Product",colorScheme:"teal",marginTop:4,disabled:!o.isValid,children:"Create New Product"}),(0,n.jsx)(w.zx,{variant:"ghost",onClick:function(){r.back()},colorScheme:"red",marginTop:4,children:"Cancel"})]})})},N=function(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Create New Subproduct"})}),(0,n.jsx)(s.Z,{children:(0,n.jsxs)("div",{className:"px-4 w-full flex flex-col items-center",children:[(0,n.jsx)("h1",{className:"my-4 font-semibold text-xl text-lime-500",children:"Create new sub product"}),(0,n.jsx)(y,{products:e.products})]})})]})}},3040:function(e,r,t){"use strict";var n=t(7568),c=t(1438),u=t(2951),a=t(4051),o=t.n(a),i=t(9669),s=t.n(i),l=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getAllProducts",value:function(){return(0,n.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/products");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))()}},{key:"getAllSubproducts",value:function(){return(0,n.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/subproducts");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))()}}]),e}();r.Z=new l},1438:function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}t.d(r,{Z:function(){return n}})},2951:function(e,r,t){"use strict";function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}t.d(r,{Z:function(){return c}})}},function(e){e.O(0,[228,445,617,556,885,781,518,69,237,774,888,179],(function(){return r=2303,e(e.s=r);var r}));var r=e.O();_N_E=r}]);