(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{876:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return r(4261)}])},366:function(e,s,r){"use strict";var n=r(5893),t=(r(7294),r(9762)),a=r(4612);s.Z=function(e){var s=e.label,r=e.name,l=e.type,o=e.id,i=e.value,u=e.onChange,c=e.onBlur,d=e.error,h=e.className,m=e.touched;return(0,n.jsxs)(t.NI,{className:h,isInvalid:d&&m,children:[(0,n.jsx)(t.lX,{htmlFor:o,fontWeight:"semibold",fontSize:"sm",mb:2,textTransform:"uppercase",textColor:"gray.600",children:s}),(0,n.jsxs)("div",{className:"flex flex-col mb-4",children:[(0,n.jsx)(a.II,{type:l||"text",id:o,name:r,value:i,onChange:u,onBlur:c}),(0,n.jsx)(t.J1,{className:"text-red-500 text-sm ",children:d})]})]})}},4261:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return v}});var n=r(5893),t=(r(7294),r(9008)),a=r.n(t),l=r(5675),o=r.n(l),i=r(7568),u=r(4051),c=r.n(u),d=r(2175),h=r(4231),m=(r(9669),r(1895)),x=r(5193),f=r(366),p=r(9904),g=h.Ry().shape({user:h.Z_().min(6,"Must be at least 6 characters").required("Required"),password:h.Z_().min(8,"Must be at least 8 characters").required("Required")}),w=function(e){var s=(0,m.a)().login,r=(0,d.TA)({initialValues:{user:"",password:""},validationSchema:g,onSubmit:function(){var e=(0,i.Z)(c().mark((function e(n){var t,a,l,o,i,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setSubmitting(!0),e.prev=1,e.next=4,p.Z.login(n.user,n.password);case 4:t=e.sent,a=t.data,l=a.user,o=a.token,i=a.refreshToken,u=a.role,d=a.privileges,s(l,o,i,u,d),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),e.t0.response.data.message.endsWith("password")?r.setFieldError("password",e.t0.response.data.message):r.setFieldError("user",e.t0.response.data.message);case 13:return e.prev=13,r.setSubmitting(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(s){return e.apply(this,arguments)}}()});return(0,n.jsxs)("div",{className:"flex flex-col w-full max-w-md bg-white p-8 rounded-xl shadow-lg",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Login"}),(0,n.jsxs)("form",{className:"flex flex-col",onSubmit:r.handleSubmit,children:[(0,n.jsx)(f.Z,{label:"Enter Your Username / Email",id:"user",name:"user",value:r.values.user,onChange:r.handleChange,onBlur:r.handleBlur,error:r.errors.user,touched:r.touched.user}),(0,n.jsx)(f.Z,{label:"Enter Your Password",id:"password",name:"password",type:"password",value:r.values.password,onChange:r.handleChange,onBlur:r.handleBlur,error:r.errors.password,touched:r.touched.password}),(0,n.jsx)(x.zx,{type:"submit",px:5,py:2,rounded:"full",fontSize:"md",text:"sm",alignSelf:"center",letterSpacing:"wider",textTransform:"uppercase",colorScheme:"facebook",isLoading:r.isSubmitting,children:"Login"})]})]})},v=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"TIMES Login"})}),(0,n.jsxs)("div",{className:"flex md:flex-row flex-col h-full min-h-screen p-2 w-full md:justify-evenly items-center bg-gradient-to-tl from-[#485563] to-[#29323c]",children:[(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center my-4",children:[(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)(o(),{src:"/logo.png",alt:"logo",width:200,height:200})}),(0,n.jsxs)("h1",{className:"font-bold text-xl md:text-3xl md:mt-4 text-white logo",children:["TIMES ",(0,n.jsx)("span",{className:"font-normal",children:"Ticketing"})]})]}),(0,n.jsx)(w,{})]})]})}}},function(e){e.O(0,[781,69,231,774,888,179],(function(){return s=876,e(e.s=s);var s}));var s=e.O();_N_E=s}]);